{"version":3,"sources":["./src/app/discussion/discussion.module.ts","./src/app/blog/blog-routing.module.ts","./src/app/discussion/discussion-wrapper/discussion-wrapper.component.ts","./src/app/discussion/discussion-wrapper/discussion-wrapper.component.html","./src/app/blog/blog.component.ts","./src/app/blog/blog.component.html","./src/app/blog/blog.module.ts"],"names":[],"mappings":"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","file":"blog-blog-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DiscussionWrapperComponent } from './discussion-wrapper/discussion-wrapper.component';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [DiscussionWrapperComponent],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [DiscussionWrapperComponent]\r\n})\r\nexport class DiscussionModule { }\r\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\n\nimport {BlogComponent} from './blog.component';\n\nconst routes: Routes = [\n  {\n    path: ':slug',\n    component: BlogComponent,\n  },\n  {\n    path: '**',\n    component: BlogComponent,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BlogRoutingModule {}\n\n","import { Component, OnInit } from '@angular/core';\r\nimport { ScullyRoute, ScullyRoutesService } from '@scullyio/ng-lib';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-discussion-wrapper',\r\n  templateUrl: './discussion-wrapper.component.html',\r\n  styleUrls: ['./discussion-wrapper.component.scss']\r\n})\r\nexport class DiscussionWrapperComponent implements OnInit {\r\n\r\n  currentPage$: Observable<ScullyRoute> = this.scully.getCurrent(); //available$;\r\n\r\n  constructor(private scully: ScullyRoutesService) { }\r\n\r\n\r\n  ngOnInit() {\r\n    // debug current pages\r\n    this.currentPage$.subscribe((links) => {\r\n      console.log(links);\r\n      // subscribe to changed url and recreate whole iframe\r\n      this.create_remarkbox_iframe();\r\n\r\n      var thread_fragment = window.location.hash;\r\n      (window as any).iFrameResize(\r\n        {\r\n          checkOrigin: [\"https://my.remarkbox.com\"],\r\n          inPageLinks: true,\r\n          initCallback: function (e) { e.iFrameResizer.moveToAnchor(thread_fragment) }\r\n        },\r\n        document.getElementById(\"remarkbox-iframe\")\r\n      );\r\n    });\r\n  }\r\n\r\n  removeChilds(parent) {\r\n    while (parent && parent.lastChild) {\r\n      parent.removeChild(parent.lastChild);\r\n    }\r\n  }\r\n\r\n  create_remarkbox_iframe() {\r\n\r\n    var rb_owner_key = \"4777168b-89b1-11eb-9666-040140774501\";\r\n    var thread_uri = window.location.href;\r\n    var thread_title = window.document.title;\r\n    var thread_fragment = window.location.hash;\r\n\r\n    var rb_src = \"https://my.remarkbox.com/embed\" +\r\n      \"?rb_owner_key=\" + rb_owner_key +\r\n      \"&thread_title=\" + encodeURI(thread_title) +\r\n      \"&thread_uri=\" + encodeURIComponent(thread_uri) +\r\n      thread_fragment;\r\n\r\n    var ifrm = document.createElement(\"iframe\");\r\n    ifrm.setAttribute(\"id\", \"remarkbox-iframe\");\r\n    ifrm.setAttribute(\"scrolling\", \"no\");\r\n    ifrm.setAttribute(\"src\", rb_src);\r\n    ifrm.setAttribute(\"frameborder\", \"0\");\r\n    ifrm.setAttribute(\"tabindex\", \"0\");\r\n    ifrm.setAttribute(\"title\", \"Remarkbox\");\r\n    ifrm.setAttribute(\"style\", 'height:600px;width:100%;border:none!important\"');\r\n    ifrm.style.width = \"100%\";\r\n    const  div = document.getElementById(\"remarkbox-div\");\r\n    this.removeChilds(div);\r\n    div.appendChild(ifrm);\r\n    //document.getElementsByClassName(\"whats-next\").innerHTML = \"A co ted?\";\r\n  }\r\n\r\n}\r\n","<div class=\"discussion\">\r\n    <div id=\"remarkbox-div\"> </div>\r\n</div>\r\n","import {Component, OnInit, ViewEncapsulation} from '@angular/core';\nimport {ActivatedRoute, Router, ROUTES} from '@angular/router';\nimport { ScullyRoute, ScullyRoutesService } from '@scullyio/ng-lib';\nimport { Observable } from 'rxjs';\n\ndeclare var ng: any;\n\n@Component({\n  selector: 'app-blog',\n  templateUrl: './blog.component.html',\n  styleUrls: ['./blog.component.scss'],\n  preserveWhitespaces: true,\n  encapsulation: ViewEncapsulation.Emulated\n\n})\nexport class BlogComponent implements OnInit {\n\n  currentPage$: Observable<ScullyRoute> = this.scully.getCurrent();\n\n  ngOnInit() {}\n\n  constructor(private router: Router, private route: ActivatedRoute, private scully: ScullyRoutesService,) {\n  }\n}\n","<div class=\"app-center\">\r\n    <div class=\"py-3 flex justify-between px-6\">\r\n        <span class=\"text-left align-middle top-4 relative text-xl\">{{(currentPage$ |\r\n            async)?.publishedDate}}</span>\r\n        <share-buttons [theme]=\"'circles-dark'\" class=\"text-right\"\r\n            [include]=\"['facebook','twitter','linkedin','pinterest', 'email', 'copy']\" [show]=\"3\" [size]=\"1\">\r\n        </share-buttons>\r\n    </div>\r\n\r\n    <div class=\"px-4 py-10 max-w-3xl mx-auto sm:px-6 sm:py-12 lg:max-w-4xl lg:py-16 lg:px-8 xl:max-w-6xl\">\r\n        <article class=\"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto\">\r\n            <scully-content></scully-content>\r\n        </article>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"app-center\">\r\n    <app-discussion-wrapper></app-discussion-wrapper>\r\n</div>","import {CommonModule} from '@angular/common';\r\nimport {NgModule} from '@angular/core';\r\nimport {ScullyLibModule} from '@scullyio/ng-lib';\r\nimport {BlogRoutingModule} from './blog-routing.module';\r\nimport {BlogComponent} from './blog.component';\r\nimport { DiscussionModule } from '../discussion/discussion.module';\r\nimport { ShareButtonsModule } from 'ngx-sharebuttons/buttons';\r\nimport { ShareIconsModule } from 'ngx-sharebuttons/icons';\r\n\r\n@NgModule({\r\n  declarations: [BlogComponent],\r\n  imports: [CommonModule, BlogRoutingModule, ScullyLibModule, DiscussionModule,\r\n    ShareButtonsModule,\r\n    ShareIconsModule],\r\n})\r\nexport class BlogModule {}\r\n"],"sourceRoot":"webpack:///"}